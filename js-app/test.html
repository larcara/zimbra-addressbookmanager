<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Gestione Rubrica</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.9/css/dataTables.bootstrap.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/autofill/2.0.0/css/autoFill.bootstrap.min.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.0.3/css/buttons.bootstrap.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/fixedcolumns/3.1.0/css/fixedColumns.bootstrap.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/fixedheader/3.0.0/css/fixedHeader.bootstrap.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/scroller/1.3.0/css/scroller.bootstrap.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/select/1.0.1/css/select.bootstrap.css"/>
 
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
      <div class="row login_box">
        
        <div class="col-sm-4 col-sm-offset-4">
          <form>
            <div class="form-group">
              <label for="server">server address</label>
              <input type="text" class="form-control" id="server" placeholder="server" >
            </div>
            <div class="form-group">
              <label for="loginEmail">Email address</label>
              <input type="email" class="form-control" id="loginEmail" placeholder="Email" >
            </div>
            <div class="form-group">
              <label for="loginPassword">Password</label>
              <input type="password" class="form-control" id="loginPassword" placeholder="Password">
            </div>
            <button type="button" class="btn btn-default login" >Login</button>
          </form>
        </div>
      </div>
      <div class="row search_box">
        <div class="col-sm-4">
          <div class="panel panel-default">

            <div class="panel-title">Elenco Rubriche</div>
            <div class="panel-boby">
              <input type="search" class="form-control" id="search" placeholder="search">
              <div style="overflow-y: scroll; overflow-x: hidden; height: 500px;">
                <ul class="list-group address_books_ul">
                  <li class="list-group-item">AddressBook1</li>
                  <li class="list-group-item">AddressBook2</li>
                </ul>  
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-7">
            <div class="row">
              <label for="">Group:</label><label id="label_group_name" class="label_group_name" data-grouppath="0"  data-id="0">ZZZZZZZZZZZZZZ</label>
            </div>
            <div  class="row">
              <div class="form-horizontal form-group">
                <div class="col-sm-7">
                  <input type="search" class="form-control" id="add_account_to_group" placeholder="add contact by autocomplete or emails(s)">
                </div>
                <div class="col-sm-1">  
                  <a class="btn btn-primary btn-sm ">Add</a>
                </div>
              </div>
            </div>
            <div  class="row">
              <table id="contacts_table" class="table table-hover table-condensed">
                <thead>
                    <tr>
                        <th>Contact</th>
                        <th>Email</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="active">-- no contact --</td>
                    <td class="info"> email@email.example</td>
                    <td class=""><a class="btn btn-danger btn-xs">X</a></td>
                  </tr>
                  <tr>
                    <td class="success">Contact 1</td>
                    <td class="info"> contact1@email.example</td>
                    <td class=""><a class="btn btn-danger btn-xs">X</a></td>
                  </tr>
                </tbody>
              </table>
            </div>
            <button type="button" class="btn btn-default saveGroups" >saveGroups</button>
        </div>
      </div>
      
      

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.js"></script>
<script type="text/javascript" src="https://cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/pdfmake.js"></script>
<script type="text/javascript" src="https://cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/vfs_fonts.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.10.9/js/jquery.dataTables.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.10.9/js/dataTables.bootstrap.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/autofill/2.0.0/js/dataTables.autoFill.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/autofill/2.0.0/js/autoFill.bootstrap.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/buttons/1.0.3/js/dataTables.buttons.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/buttons/1.0.3/js/buttons.bootstrap.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/buttons/1.0.3/js/buttons.html5.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/buttons/1.0.3/js/buttons.print.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/fixedcolumns/3.1.0/js/dataTables.fixedColumns.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/fixedheader/3.0.0/js/dataTables.fixedHeader.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/scroller/1.3.0/js/dataTables.scroller.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/select/1.0.1/js/dataTables.select.js"></script>
    <script src="./js.cookie.js"></script>
    <script src="./zimbraClient.js"></script>

    <script>

    $(".login").click(function(){
        getAuth($("#server").val(), $("#loginEmail").val(),$("#loginPassword").val(), getFolders);
        $(".search_box").show();
        $(".login_box").hide();
      });    
    $(".groups").click(function(){getFolders();});    
    $(".saveGroups").click(function(){
        console.log("start sving group of:" + $("#label_group_name").data("id"));
        var table=$('#contacts_table').DataTable();
        console.log("values:" +  $.map(table.data(),function(value){
          var email=$(value[1]);
          return email.data("originalvalue")
        }));
          //saveGroups($("#label_group_name").data("id"),$("#group_elements").val());
      });    
        
    $(document).ready(function() {
      //$("#loginEmail").val("");
      //$("#loginPassword").val("");
      $(".search_box").hide();
      $('#contacts_table').DataTable();
      $('li.tree-toggler').click(function () {
        $(this).children('ul.tree').toggle(300);
      });
            }); 
    </script>  
  </body>
</html>


        
    
</html>